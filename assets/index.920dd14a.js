(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();const V={};function Bt(t){V.context=t}const Kt=(t,n)=>t===n,Fe=Symbol("solid-proxy"),Gt=Symbol("solid-dev-component"),ye={equals:Kt};let ut=pt;const G=1,me=2,Ht={owned:null,cleanups:null,context:null,owner:null};var y=null;let W=null,A=null,x=null,M=null,Ue=0,Jt=0;function ct(t,n){const e=A,r=y,i=t.length===0,o={owned:null,cleanups:null,context:null,owner:n||r},s=i?()=>t(()=>{throw new Error("Dispose method must be an explicit argument to createRoot function")}):()=>t(()=>C(()=>Me(o)));r&&(o.name=`${r.name}-r${Jt++}`),globalThis._$afterCreateRoot&&globalThis._$afterCreateRoot(o),y=o,A=null;try{return H(s,!0)}finally{A=e,y=r}}function v(t,n){n=n?Object.assign({},ye,n):ye;const e={value:t,observers:null,observerSlots:null,comparator:n.equals||void 0};n.internal||(e.name=en(n.name||Zt(t),e));const r=i=>(typeof i=="function"&&(i=i(e.value)),ht(e,i));return[ft.bind(e),r]}function q(t,n,e){const r=Ce(t,n,!1,G,e);te(r)}function Wt(t,n,e){ut=rn;const r=Ce(t,n,!1,G,e);r.user=!0,M?M.push(r):te(r)}function T(t,n,e){e=e?Object.assign({},ye,e):ye;const r=Ce(t,n,!0,0,e);return r.observers=null,r.observerSlots=null,r.comparator=e.equals||void 0,te(r),ft.bind(r)}function D(t){return H(t,!1)}function C(t){const n=A;A=null;try{return t()}finally{A=n}}function dt(t,n,e){const r=Array.isArray(t);let i,o=e&&e.defer;return s=>{let l;if(r){l=Array(t.length);for(let u=0;u<t.length;u++)l[u]=t[u]()}else l=t();if(o){o=!1;return}const a=C(()=>n(l,i,s));return i=l,a}}function Ae(t){return y===null?console.warn("cleanups created outside a `createRoot` or `render` will never be run"):y.cleanups===null?y.cleanups=[t]:y.cleanups.push(t),t}function zt(){return y}function Xt(t,n){const e=y;y=t;try{return H(n,!0)}finally{y=e}}function Qt(t){const n=A,e=y;return Promise.resolve().then(()=>{A=n,y=e;let r;return H(t,!1),A=y=null,r?r.done:void 0})}function Yt(t,n){const e=Ce(()=>C(()=>(Object.assign(t,{[Gt]:!0}),t(n))),void 0,!0);return e.props=n,e.observers=null,e.observerSlots=null,e.state=0,e.componentName=t.name,te(e),e.tValue!==void 0?e.tValue:e.value}function Zt(t){const n=new Set;return`s${Qe(typeof t=="string"?t:C(()=>JSON.stringify(t,(e,r)=>{if(typeof r=="object"&&r!=null){if(n.has(r))return;n.add(r);const i=Object.keys(r),o=Object.getOwnPropertyDescriptors(r),s=i.reduce((l,a)=>{const u=o[a];return u.get||(l[a]=u),l},{});r=Object.create({},s)}return typeof r=="bigint"?`${r.toString()}n`:r})||""))}`}function en(t,n){let e=t;if(y){let r=0;for(y.sourceMap||(y.sourceMap={});y.sourceMap[e];)e=`${t}-${++r}`;y.sourceMap[e]=n}return e}function Ve(t,n){const e=Symbol("context");return{id:e,Provider:sn(e,n),defaultValue:t}}function le(t){let n;return(n=mt(y,t.id))!==void 0?n:t.defaultValue}function qe(t){const n=T(t),e=T(()=>ke(n()));return e.toArray=()=>{const r=e();return Array.isArray(r)?r:r!=null?[r]:[]},e}function ft(){const t=W;if(this.sources&&(this.state||t))if(this.state===G||t)te(this);else{const n=x;x=null,H(()=>be(this),!1),x=n}if(A){const n=this.observers?this.observers.length:0;A.sources?(A.sources.push(this),A.sourceSlots.push(n)):(A.sources=[this],A.sourceSlots=[n]),this.observers?(this.observers.push(A),this.observerSlots.push(A.sources.length-1)):(this.observers=[A],this.observerSlots=[A.sources.length-1])}return this.value}function ht(t,n,e){let r=t.value;return(!t.comparator||!t.comparator(r,n))&&(t.value=n,t.observers&&t.observers.length&&H(()=>{for(let i=0;i<t.observers.length;i+=1){const o=t.observers[i],s=W&&W.running;s&&W.disposed.has(o),(s&&!o.tState||!s&&!o.state)&&(o.pure?x.push(o):M.push(o),o.observers&&gt(o)),s||(o.state=G)}if(x.length>1e6){throw x=[],new Error("Potential Infinite Loop Detected.");throw new Error}},!1)),n}function te(t){if(!t.fn)return;Me(t);const n=y,e=A,r=Ue;A=y=t,tn(t,t.value,r),A=e,y=n}function tn(t,n,e){let r;try{r=t.fn(n)}catch(i){t.pure&&(t.state=G),yt(i)}(!t.updatedAt||t.updatedAt<=e)&&(t.updatedAt!=null&&"observers"in t?ht(t,r):t.value=r,t.updatedAt=e)}function Ce(t,n,e,r=G,i){const o={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:n,owner:y,context:null,pure:e};return y===null?console.warn("computations created outside a `createRoot` or `render` will never be disposed"):y!==Ht&&(y.owned?y.owned.push(o):y.owned=[o],o.name=i&&i.name||`${y.name||"c"}-${(y.owned||y.tOwned).length}`),o}function ve(t){const n=W;if(t.state===0||n)return;if(t.state===me||n)return be(t);if(t.suspense&&C(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Ue);)(t.state||n)&&e.push(t);for(let r=e.length-1;r>=0;r--)if(t=e[r],t.state===G||n)te(t);else if(t.state===me||n){const i=x;x=null,H(()=>be(t,e[0]),!1),x=i}}function H(t,n){if(x)return t();let e=!1;n||(x=[]),M?e=!0:M=[],Ue++;try{const r=t();return nn(e),r}catch(r){x||(M=null),yt(r)}}function nn(t){if(x&&(pt(x),x=null),t)return;const n=M;M=null,n.length?H(()=>ut(n),!1):globalThis._$afterUpdate&&globalThis._$afterUpdate()}function pt(t){for(let n=0;n<t.length;n++)ve(t[n])}function rn(t){let n,e=0;for(n=0;n<t.length;n++){const r=t[n];r.user?t[e++]=r:ve(r)}for(V.context&&Bt(),n=0;n<e;n++)ve(t[n])}function be(t,n){const e=W;t.state=0;for(let r=0;r<t.sources.length;r+=1){const i=t.sources[r];i.sources&&(i.state===G||e?i!==n&&ve(i):(i.state===me||e)&&be(i,n))}}function gt(t){const n=W;for(let e=0;e<t.observers.length;e+=1){const r=t.observers[e];(!r.state||n)&&(r.state=me,r.pure?x.push(r):M.push(r),r.observers&&gt(r))}}function Me(t){let n;if(t.sources)for(;t.sources.length;){const e=t.sources.pop(),r=t.sourceSlots.pop(),i=e.observers;if(i&&i.length){const o=i.pop(),s=e.observerSlots.pop();r<i.length&&(o.sourceSlots[s]=r,i[r]=o,e.observerSlots[r]=s)}}if(t.owned){for(n=0;n<t.owned.length;n++)Me(t.owned[n]);t.owned=null}if(t.cleanups){for(n=0;n<t.cleanups.length;n++)t.cleanups[n]();t.cleanups=null}t.state=0,t.context=null,delete t.sourceMap}function on(t){return t instanceof Error||typeof t=="string"?t:new Error("Unknown error")}function yt(t){throw t=on(t),t}function mt(t,n){return t?t.context&&t.context[n]!==void 0?t.context[n]:mt(t.owner,n):void 0}function ke(t){if(typeof t=="function"&&!t.length)return ke(t());if(Array.isArray(t)){const n=[];for(let e=0;e<t.length;e++){const r=ke(t[e]);Array.isArray(r)?n.push.apply(n,r):n.push(r)}return n}return t}function sn(t,n){return function(r){let i;return q(()=>i=C(()=>(y.context={[t]:r.value},qe(()=>r.children))),void 0,n),i}}function Qe(t){for(var n=0,e=9;n<t.length;)e=Math.imul(e^t.charCodeAt(n++),9**9);return`${e^e>>>9}`}function g(t,n){return Yt(t,n||{})}function he(){return!0}const vt={get(t,n,e){return n===Fe?e:t.get(n)},has(t,n){return t.has(n)},set:he,deleteProperty:he,getOwnPropertyDescriptor(t,n){return{configurable:!0,enumerable:!0,get(){return t.get(n)},set:he,deleteProperty:he}},ownKeys(t){return t.keys()}};function Le(t){return(t=typeof t=="function"?t():t)?t:{}}function F(...t){if(t.some(e=>e&&(Fe in e||typeof e=="function")))return new Proxy({get(e){for(let r=t.length-1;r>=0;r--){const i=Le(t[r])[e];if(i!==void 0)return i}},has(e){for(let r=t.length-1;r>=0;r--)if(e in Le(t[r]))return!0;return!1},keys(){const e=[];for(let r=0;r<t.length;r++)e.push(...Object.keys(Le(t[r])));return[...new Set(e)]}},vt);const n={};for(let e=t.length-1;e>=0;e--)if(t[e]){const r=Object.getOwnPropertyDescriptors(t[e]);for(const i in r)i in n||Object.defineProperty(n,i,{enumerable:!0,get(){for(let o=t.length-1;o>=0;o--){const s=(t[o]||{})[i];if(s!==void 0)return s}}})}return n}function Pe(t,...n){const e=new Set(n.flat()),r=Object.getOwnPropertyDescriptors(t),i=Fe in t;i||n.push(Object.keys(r).filter(s=>!e.has(s)));const o=n.map(s=>{const l={};for(let a=0;a<s.length;a++){const u=s[a];!i&&!(u in t)||Object.defineProperty(l,u,r[u]?r[u]:{get(){return t[u]},set(){return!0},enumerable:!0})}return l});return i&&o.push(new Proxy({get(s){return e.has(s)?void 0:t[s]},has(s){return e.has(s)?!1:s in t},keys(){return Object.keys(t).filter(s=>!e.has(s))}},vt)),o}function Ie(t){let n=!1;const e=t.keyed,r=T(()=>t.when,void 0,{equals:(i,o)=>n?i===o:!i==!o});return T(()=>{const i=r();if(i){const o=t.children,s=typeof o=="function"&&o.length>0;return n=e||s,s?C(()=>o(i)):o}return t.fallback})}globalThis&&(globalThis.Solid$$?console.warn("You appear to have multiple instances of Solid. This can lead to unexpected behavior."):globalThis.Solid$$=!0);const ln=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],an=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...ln]),un=new Set(["innerHTML","textContent","innerText","children"]),cn=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Ye=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),dn=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),fn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function hn(t,n,e){let r=e.length,i=n.length,o=r,s=0,l=0,a=n[i-1].nextSibling,u=null;for(;s<i||l<o;){if(n[s]===e[l]){s++,l++;continue}for(;n[i-1]===e[o-1];)i--,o--;if(i===s){const c=o<r?l?e[l-1].nextSibling:e[o-l]:a;for(;l<o;)t.insertBefore(e[l++],c)}else if(o===l)for(;s<i;)(!u||!u.has(n[s]))&&n[s].remove(),s++;else if(n[s]===e[o-1]&&e[l]===n[i-1]){const c=n[--i].nextSibling;t.insertBefore(e[l++],n[s++].nextSibling),t.insertBefore(e[--o],c),n[i]=e[o]}else{if(!u){u=new Map;let d=l;for(;d<o;)u.set(e[d],d++)}const c=u.get(n[s]);if(c!=null)if(l<c&&c<o){let d=s,f=1,h;for(;++d<i&&d<o&&!((h=u.get(n[d]))==null||h!==c+f);)f++;if(f>c-l){const p=n[s];for(;l<c;)t.insertBefore(e[l++],p)}else t.replaceChild(e[l++],n[s++])}else s++;else n[s++].remove()}}}const Ze="_$DX_DELEGATE";function pn(t,n,e,r={}){let i;return ct(o=>{i=o,n===document?t():R(n,t(),n.firstChild?null:void 0,e)},r.owner),()=>{i(),n.textContent=""}}function $(t,n,e){const r=document.createElement("template");if(r.innerHTML=t,n&&r.innerHTML.split("<").length-1!==n)throw`The browser resolved template HTML does not match JSX input:
${r.innerHTML}

${t}. Is your HTML properly formed?`;let i=r.content.firstChild;return e&&(i=i.firstChild),i}function bt(t,n=window.document){const e=n[Ze]||(n[Ze]=new Set);for(let r=0,i=t.length;r<i;r++){const o=t[r];e.has(o)||(e.add(o),n.addEventListener(o,An))}}function we(t,n,e){e==null?t.removeAttribute(n):t.setAttribute(n,e)}function gn(t,n,e,r){r==null?t.removeAttributeNS(n,e):t.setAttributeNS(n,e,r)}function wt(t,n){n==null?t.removeAttribute("class"):t.className=n}function yn(t,n,e,r){if(r)Array.isArray(e)?(t[`$$${n}`]=e[0],t[`$$${n}Data`]=e[1]):t[`$$${n}`]=e;else if(Array.isArray(e)){const i=e[0];t.addEventListener(n,e[0]=o=>i.call(t,e[1],o))}else t.addEventListener(n,e)}function mn(t,n,e={}){const r=Object.keys(n||{}),i=Object.keys(e);let o,s;for(o=0,s=i.length;o<s;o++){const l=i[o];!l||l==="undefined"||n[l]||(et(t,l,!1),delete e[l])}for(o=0,s=r.length;o<s;o++){const l=r[o],a=!!n[l];!l||l==="undefined"||e[l]===a||!a||(et(t,l,!0),e[l]=a)}return e}function vn(t,n,e){if(!n)return e?we(t,"style"):n;const r=t.style;if(typeof n=="string")return r.cssText=n;typeof e=="string"&&(r.cssText=e=void 0),e||(e={}),n||(n={});let i,o;for(o in e)n[o]==null&&r.removeProperty(o),delete e[o];for(o in n)i=n[o],i!==e[o]&&(r.setProperty(o,i),e[o]=i);return e}function Ee(t,n={},e,r){const i={};return r||q(()=>i.children=ee(t,n.children,i.children)),q(()=>n.ref&&n.ref(t)),q(()=>wn(t,n,e,!0,i,!0)),i}function bn(t,n,e){return C(()=>t(n,e))}function R(t,n,e,r){if(e!==void 0&&!r&&(r=[]),typeof n!="function")return ee(t,n,r,e);q(i=>ee(t,n(),i,e),r)}function wn(t,n,e,r,i={},o=!1){n||(n={});for(const s in i)if(!(s in n)){if(s==="children")continue;i[s]=tt(t,s,null,i[s],e,o)}for(const s in n){if(s==="children"){r||ee(t,n.children);continue}const l=n[s];i[s]=tt(t,s,l,i[s],e,o)}}function Sn(t){return t.toLowerCase().replace(/-([a-z])/g,(n,e)=>e.toUpperCase())}function et(t,n,e){const r=n.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)t.classList.toggle(r[i],e)}function tt(t,n,e,r,i,o){let s,l,a;if(n==="style")return vn(t,e,r);if(n==="classList")return mn(t,e,r);if(e===r)return r;if(n==="ref")o||e(t);else if(n.slice(0,3)==="on:"){const u=n.slice(3);r&&t.removeEventListener(u,r),e&&t.addEventListener(u,e)}else if(n.slice(0,10)==="oncapture:"){const u=n.slice(10);r&&t.removeEventListener(u,r,!0),e&&t.addEventListener(u,e,!0)}else if(n.slice(0,2)==="on"){const u=n.slice(2).toLowerCase(),c=dn.has(u);if(!c&&r){const d=Array.isArray(r)?r[0]:r;t.removeEventListener(u,d)}(c||e)&&(yn(t,u,e,c),c&&bt([u]))}else if((a=un.has(n))||!i&&(Ye[n]||(l=an.has(n)))||(s=t.nodeName.includes("-")))n==="class"||n==="className"?wt(t,e):s&&!l&&!a?t[Sn(n)]=e:t[Ye[n]||n]=e;else{const u=i&&n.indexOf(":")>-1&&fn[n.split(":")[0]];u?gn(t,u,n,e):we(t,cn[n]||n,e)}return e}function An(t){const n=`$$${t.type}`;let e=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==e&&Object.defineProperty(t,"target",{configurable:!0,value:e}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),V.registry&&!V.done&&(V.done=!0,document.querySelectorAll("[id^=pl-]").forEach(r=>r.remove()));e!==null;){const r=e[n];if(r&&!e.disabled){const i=e[`${n}Data`];if(i!==void 0?r.call(e,i,t):r.call(e,t),t.cancelBubble)return}e=e.host&&e.host!==e&&e.host instanceof Node?e.host:e.parentNode}}function ee(t,n,e,r,i){for(V.context&&!e&&(e=[...t.childNodes]);typeof e=="function";)e=e();if(n===e)return e;const o=typeof n,s=r!==void 0;if(t=s&&e[0]&&e[0].parentNode||t,o==="string"||o==="number"){if(V.context)return e;if(o==="number"&&(n=n.toString()),s){let l=e[0];l&&l.nodeType===3?l.data=n:l=document.createTextNode(n),e=X(t,e,r,l)}else e!==""&&typeof e=="string"?e=t.firstChild.data=n:e=t.textContent=n}else if(n==null||o==="boolean"){if(V.context)return e;e=X(t,e,r)}else{if(o==="function")return q(()=>{let l=n();for(;typeof l=="function";)l=l();e=ee(t,l,e,r)}),()=>e;if(Array.isArray(n)){const l=[],a=e&&Array.isArray(e);if(_e(l,n,e,i))return q(()=>e=ee(t,l,e,r,!0)),()=>e;if(V.context){if(!l.length)return e;for(let u=0;u<l.length;u++)if(l[u].parentNode)return e=l}if(l.length===0){if(e=X(t,e,r),s)return e}else a?e.length===0?nt(t,l,r):hn(t,e,l):(e&&X(t),nt(t,l));e=l}else if(n instanceof Node){if(V.context&&n.parentNode)return e=s?[n]:n;if(Array.isArray(e)){if(s)return e=X(t,e,r,n);X(t,e,null,n)}else e==null||e===""||!t.firstChild?t.appendChild(n):t.replaceChild(n,t.firstChild);e=n}else console.warn("Unrecognized value. Skipped inserting",n)}return e}function _e(t,n,e,r){let i=!1;for(let o=0,s=n.length;o<s;o++){let l=n[o],a=e&&e[o];if(l instanceof Node)t.push(l);else if(!(l==null||l===!0||l===!1))if(Array.isArray(l))i=_e(t,l,a)||i;else if(typeof l=="function")if(r){for(;typeof l=="function";)l=l();i=_e(t,Array.isArray(l)?l:[l],Array.isArray(a)?a:[a])||i}else t.push(l),i=!0;else{const u=String(l);a&&a.nodeType===3&&a.data===u?t.push(a):t.push(document.createTextNode(u))}}return i}function nt(t,n,e=null){for(let r=0,i=n.length;r<i;r++)t.insertBefore(n[r],e)}function X(t,n,e,r){if(e===void 0)return t.textContent="";const i=r||document.createTextNode("");if(n.length){let o=!1;for(let s=n.length-1;s>=0;s--){const l=n[s];if(i!==l){const a=l.parentNode===t;!o&&!s?a?t.replaceChild(i,l):t.insertBefore(i,e):a&&l.remove()}else o=!0}}else t.insertBefore(i,e);return[i]}const Cn=!1;function Pn(t,n,e){return t.addEventListener(n,e),()=>t.removeEventListener(n,e)}function In([t,n],e,r){return[e?()=>e(t()):t,r?i=>n(r(i)):n]}function En(t){try{return document.querySelector(t)}catch{return null}}function On(t,n){const e=En(`#${t}`);e?e.scrollIntoView():n&&window.scrollTo(0,0)}function Tn(t,n,e,r){let i=!1;const o=l=>typeof l=="string"?{value:l}:l,s=In(v(o(t()),{equals:(l,a)=>l.value===a.value}),void 0,l=>(!i&&n(l),l));return e&&Ae(e((l=t())=>{i=!0,s[1](o(l)),i=!1})),{signal:s,utils:r}}function Nn(t){if(t){if(Array.isArray(t))return{signal:t}}else return{signal:v({value:""})};return t}function Ln(){return Tn(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:t,replace:n,scroll:e,state:r})=>{n?window.history.replaceState(r,"",t):window.history.pushState(r,"",t),On(window.location.hash.slice(1),e)},t=>Pn(window,"popstate",()=>t()),{go:t=>window.history.go(t)})}function Rn(){let t=new Set;function n(i){return t.add(i),()=>t.delete(i)}let e=!1;function r(i,o){if(e)return!(e=!1);const s={to:i,options:o,defaultPrevented:!1,preventDefault:()=>s.defaultPrevented=!0};for(const l of t)l.listener({...s,from:l.location,retry:a=>{a&&(e=!0),l.navigate(i,o)}});return!s.defaultPrevented}return{subscribe:n,confirm:r}}const xn=/^(?:[a-z0-9]+:)?\/\//i,kn=/^\/+|\/+$/g;function z(t,n=!1){const e=t.replace(kn,"");return e?n||/^[?#]/.test(e)?e:"/"+e:""}function ge(t,n,e){if(xn.test(n))return;const r=z(t),i=e&&z(e);let o="";return!i||n.startsWith("/")?o=r:i.toLowerCase().indexOf(r.toLowerCase())!==0?o=r+i:o=i,(o||"/")+z(n,!o)}function _n(t,n){if(t==null)throw new Error(n);return t}function St(t,n){return z(t).replace(/\/*(\*.*)?$/g,"")+z(n)}function jn(t){const n={};return t.searchParams.forEach((e,r)=>{n[r]=e}),n}function $n(t,n){const[e,r]=t.split("/*",2),i=e.split("/").filter(Boolean),o=i.length;return s=>{const l=s.split("/").filter(Boolean),a=l.length-o;if(a<0||a>0&&r===void 0&&!n)return null;const u={path:o?"":"/",params:{}};for(let c=0;c<o;c++){const d=i[c],f=l[c];if(d[0]===":")u.params[d.slice(1)]=f;else if(d.localeCompare(f,void 0,{sensitivity:"base"})!==0)return null;u.path+=`/${f}`}return r&&(u.params[r]=a?l.slice(-a).join("/"):""),u}}function Dn(t){const[n,e]=t.pattern.split("/*",2),r=n.split("/").filter(Boolean);return r.reduce((i,o)=>i+(o.startsWith(":")?2:3),r.length-(e===void 0?0:1))}function At(t){const n=new Map,e=zt();return new Proxy({},{get(r,i){return n.has(i)||Xt(e,()=>n.set(i,T(()=>t()[i]))),n.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}function Ct(t){let n=/(\/?\:[^\/]+)\?/.exec(t);if(!n)return[t];let e=t.slice(0,n.index),r=t.slice(n.index+n[0].length);const i=[e,e+=n[1]];for(;n=/^(\/\:[^\/]+)\?/.exec(r);)i.push(e+=n[1]),r=r.slice(n[0].length);return Ct(r).reduce((o,s)=>[...o,...i.map(l=>l+s)],[])}const Fn=100,Pt=Ve(),Oe=Ve(),Te=()=>_n(le(Pt),"Make sure your app is wrapped in a <Router />");let oe;const Be=()=>oe||le(Oe)||Te().base,Un=t=>{const n=Be();return T(()=>n.resolvePath(t()))},Vn=t=>{const n=Te();return T(()=>{const e=t();return e!==void 0?n.renderPath(e):e})},qn=()=>Te().location;function Mn(t,n="",e){const{component:r,data:i,children:o}=t,s=!o||Array.isArray(o)&&!o.length,l={key:t,element:r?()=>g(r,{}):()=>{const{element:a}=t;return a===void 0&&e?g(e,{}):a},preload:t.component?r.preload:t.preload,data:i};return It(t.path).reduce((a,u)=>{for(const c of Ct(u)){const d=St(n,c),f=s?d:d.split("/*",1)[0];a.push({...l,originalPath:c,pattern:f,matcher:$n(f,!s)})}return a},[])}function Bn(t,n=0){return{routes:t,score:Dn(t[t.length-1])*1e4-n,matcher(e){const r=[];for(let i=t.length-1;i>=0;i--){const o=t[i],s=o.matcher(e);if(!s)return null;r.unshift({...s,route:o})}return r}}}function It(t){return Array.isArray(t)?t:[t]}function Et(t,n="",e,r=[],i=[]){const o=It(t);for(let s=0,l=o.length;s<l;s++){const a=o[s];if(a&&typeof a=="object"&&a.hasOwnProperty("path")){const u=Mn(a,n,e);for(const c of u){r.push(c);const d=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!d)Et(a.children,c.pattern,e,r,i);else{const f=Bn([...r],i.length);i.push(f)}r.pop()}}}return r.length?i:i.sort((s,l)=>l.score-s.score)}function Kn(t,n){for(let e=0,r=t.length;e<r;e++){const i=t[e].matcher(n);if(i)return i}return[]}function Gn(t,n){const e=new URL("http://sar"),r=T(a=>{const u=t();try{return new URL(u,e)}catch{return console.error(`Invalid path ${u}`),a}},e,{equals:(a,u)=>a.href===u.href}),i=T(()=>r().pathname),o=T(()=>r().search,!0),s=T(()=>r().hash),l=T(()=>"");return{get pathname(){return i()},get search(){return o()},get hash(){return s()},get state(){return n()},get key(){return l()},query:At(dt(o,()=>jn(r())))}}function Hn(t,n="",e,r){const{signal:[i,o],utils:s={}}=Nn(t),l=s.parsePath||(w=>w),a=s.renderPath||(w=>w),u=s.beforeLeave||Rn(),c=ge("",n),d=void 0;if(c===void 0)throw new Error(`${c} is not a valid base path`);c&&!i().value&&o({value:c,replace:!0,scroll:!1});const[f,h]=v(!1),p=async w=>{h(!0);try{await Qt(w)}finally{h(!1)}},[S,I]=v(i().value),[N,P]=v(i().state),E=Gn(S,N),m=[],L={pattern:c,params:{},path:()=>c,outlet:()=>null,resolvePath(w){return ge(c,w)}};if(e)try{oe=L,L.data=e({data:void 0,params:{},location:E,navigate:J(L)})}finally{oe=void 0}function U(w,b,O){C(()=>{if(typeof b=="number"){b&&(s.go?u.confirm(b,O)&&s.go(b):console.warn("Router integration does not support relative routing"));return}const{replace:de,resolve:fe,scroll:B,state:ne}={replace:!1,resolve:!0,scroll:!0,...O},K=fe?w.resolvePath(b):ge("",b);if(K===void 0)throw new Error(`Path '${b}' is not a routable path`);if(m.length>=Fn)throw new Error("Too many redirects");const re=S();if((K!==re||ne!==N())&&!Cn){if(u.confirm(K,O)){const Mt=m.push({value:re,replace:de,scroll:B,state:N()});p(()=>{I(K),P(ne)}).then(()=>{m.length===Mt&&Ne({value:K,state:ne})})}}})}function J(w){return w=w||le(Oe)||L,(b,O)=>U(w,b,O)}function Ne(w){const b=m[0];b&&((w.value!==b.value||w.state!==b.state)&&o({...w,replace:b.replace,scroll:b.scroll}),m.length=0)}q(()=>{const{value:w,state:b}=i();C(()=>{w!==S()&&p(()=>{I(w),P(b)})})});{let w=function(b){if(b.defaultPrevented||b.button!==0||b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)return;const O=b.composedPath().find(re=>re instanceof Node&&re.nodeName.toUpperCase()==="A");if(!O||!O.hasAttribute("link"))return;const de=O.href;if(O.target||!de&&!O.hasAttribute("state"))return;const fe=(O.getAttribute("rel")||"").split(/\s+/);if(O.hasAttribute("download")||fe&&fe.includes("external"))return;const B=new URL(de);if(B.origin!==window.location.origin||c&&B.pathname&&!B.pathname.toLowerCase().startsWith(c.toLowerCase()))return;const ne=l(B.pathname+B.search+B.hash),K=O.getAttribute("state");b.preventDefault(),U(L,ne,{resolve:!1,replace:O.hasAttribute("replace"),scroll:!O.hasAttribute("noscroll"),state:K&&JSON.parse(K)})};var qt=w;bt(["click"]),document.addEventListener("click",w),Ae(()=>document.removeEventListener("click",w))}return{base:L,out:d,location:E,isRouting:f,renderPath:a,parsePath:l,navigatorFactory:J,beforeLeave:u}}function Jn(t,n,e,r){const{base:i,location:o,navigatorFactory:s}=t,{pattern:l,element:a,preload:u,data:c}=r().route,d=T(()=>r().path),f=At(()=>r().params);u&&u();const h={parent:n,pattern:l,get child(){return e()},path:d,params:f,data:n.data,outlet:a,resolvePath(p){return ge(i.path(),p,d())}};if(c)try{oe=h,h.data=c({data:n.data,params:f,location:o,navigate:s(h)})}finally{oe=void 0}return h}const Wn=$("<a link></a>",2),zn=t=>{const{source:n,url:e,base:r,data:i,out:o}=t,s=n||Ln(),l=Hn(s,r,i);return g(Pt.Provider,{value:l,get children(){return t.children}})},Xn=t=>{const n=Te(),e=Be(),r=qe(()=>t.children),i=T(()=>Et(r(),St(e.pattern,t.base||""),Qn)),o=T(()=>Kn(i(),n.location.pathname));n.out&&n.out.matches.push(o().map(({route:u,path:c,params:d})=>({originalPath:u.originalPath,pattern:u.pattern,path:c,params:d})));const s=[];let l;const a=T(dt(o,(u,c,d)=>{let f=c&&u.length===c.length;const h=[];for(let p=0,S=u.length;p<S;p++){const I=c&&c[p],N=u[p];d&&I&&N.route.key===I.route.key?h[p]=d[p]:(f=!1,s[p]&&s[p](),ct(P=>{s[p]=P,h[p]=Jn(n,h[p-1]||e,()=>a()[p+1],()=>o()[p])}))}return s.splice(u.length).forEach(p=>p()),d&&f?d:(l=h[0],h)}));return g(Ie,{get when(){return a()&&l},children:u=>g(Oe.Provider,{value:u,get children(){return u.outlet()}})})},rt=t=>{const n=qe(()=>t.children);return F(t,{get children(){return n()}})},Qn=()=>{const t=Be();return g(Ie,{get when(){return t.child},children:n=>g(Oe.Provider,{value:n,get children(){return n.outlet()}})})};function Z(t){t=F({inactiveClass:"inactive",activeClass:"active"},t);const[,n]=Pe(t,["href","state","class","activeClass","inactiveClass","end"]),e=Un(()=>t.href),r=Vn(e),i=qn(),o=T(()=>{const s=e();if(s===void 0)return!1;const l=z(s.split(/[?#]/,1)[0]).toLowerCase(),a=z(i.pathname).toLowerCase();return t.end?l===a:a.startsWith(l)});return(()=>{const s=Wn.cloneNode(!0);return Ee(s,F(n,{get href(){return r()||t.href},get state(){return JSON.stringify(t.state)},get classList(){return{...t.class&&{[t.class]:!0},[t.inactiveClass]:!o(),[t.activeClass]:o(),...n.classList}},get["aria-current"](){return o()?"page":void 0}}),!1,!1),s})()}var je=function(t,n){return je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},je(t,n)};function k(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}je(t,n),t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var $e=function(){return $e=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},$e.apply(this,arguments)};function _(t,n,e,r){return new(e||(e=Promise))(function(i,o){function s(u){try{a(r.next(u))}catch(c){o(c)}}function l(u){try{a(r.throw(u))}catch(c){o(c)}}function a(u){var c;u.done?i(u.value):(c=u.value,c instanceof e?c:new e(function(d){d(c)})).then(s,l)}a((r=r.apply(t,n||[])).next())})}function j(t,n){var e,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(a){return function(u){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||c[0]!==6&&c[0]!==2)){s=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(c[0]===6&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=n.call(t,s)}catch(d){c=[6,d],r=0}finally{e=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([a,u])}}}var Ot,se=function(t){function n(e){var r,i=this;return(i=t.call(this,"ClientResponseError")||this).url="",i.status=0,i.data={},i.isAbort=!1,i.originalError=null,Object.setPrototypeOf(i,n.prototype),e instanceof n||(i.originalError=e),e!==null&&typeof e=="object"&&(i.url=typeof e.url=="string"?e.url:"",i.status=typeof e.status=="number"?e.status:0,i.data=e.data!==null&&typeof e.data=="object"?e.data:{}),typeof DOMException<"u"&&e instanceof DOMException&&(i.isAbort=!0),i.name="ClientResponseError "+i.status,i.message=(r=i.data)===null||r===void 0?void 0:r.message,i.message||(i.message=i.isAbort?"The request was autocancelled. More info you could find in https://github.com/pocketbase/js-sdk#auto-cancellation.":"Something went wrong while processing your request."),i}return k(n,t),n.prototype.toJSON=function(){return $e({},this)},n}(Error),pe=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function it(t,n,e){var r=Object.assign({},e||{}),i=r.encode||Zn;if(!pe.test(t))throw new TypeError("argument name is invalid");var o=i(n);if(o&&!pe.test(o))throw new TypeError("argument val is invalid");var s=t+"="+o;if(r.maxAge!=null){var l=r.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(l)}if(r.domain){if(!pe.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!pe.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){if(!function(a){return Object.prototype.toString.call(a)==="[object Date]"||a instanceof Date}(r.expires)||isNaN(r.expires.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():r.priority){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s}function Yn(t){return t.indexOf("%")!==-1?decodeURIComponent(t):t}function Zn(t){return encodeURIComponent(t)}function ot(t){if(t)try{var n=decodeURIComponent(Ot(t.split(".")[1]).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(n)||{}}catch{}return{}}Ot=typeof atob=="function"?atob:function(t){var n=String(t).replace(/=+$/,"");if(n.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,r,i=0,o=0,s="";r=n.charAt(o++);~r&&(e=i%4?64*e+r:r,i++%4)?s+=String.fromCharCode(255&e>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};var ae=function(){function t(n){n===void 0&&(n={}),this.load(n||{})}return t.prototype.load=function(n){for(var e=0,r=Object.entries(n);e<r.length;e++){var i=r[e],o=i[0],s=i[1];this[o]=s}this.id=n.id!==void 0?n.id:"",this.created=n.created!==void 0?n.created:"",this.updated=n.updated!==void 0?n.updated:""},Object.defineProperty(t.prototype,"isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new this.constructor(JSON.parse(JSON.stringify(this)))},t.prototype.export=function(){return Object.assign({},this)},t}(),Se=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return k(n,t),n.prototype.load=function(e){t.prototype.load.call(this,e),this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.collectionName=typeof e.collectionName=="string"?e.collectionName:"",this.expand=typeof e.expand=="object"&&e.expand!==null?e.expand:{}},n}(ae),Ke=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return k(n,t),n.prototype.load=function(e){t.prototype.load.call(this,e),this.avatar=typeof e.avatar=="number"?e.avatar:0,this.email=typeof e.email=="string"?e.email:""},n}(ae),er=function(){function t(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(t.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return!function(n,e){e===void 0&&(e=0);var r=ot(n);return!(Object.keys(r).length>0&&(!r.exp||r.exp-e>Date.now()/1e3))}(this.token)},enumerable:!1,configurable:!0}),t.prototype.save=function(n,e){this.baseToken=n||"",this.baseModel=e!==null&&typeof e=="object"?e.collectionId!==void 0?new Se(e):new Ke(e):null,this.triggerChange()},t.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},t.prototype.loadFromCookie=function(n,e){e===void 0&&(e="pb_auth");var r=function(o,s){var l={};if(typeof o!="string")return l;for(var a=Object.assign({},s||{}).decode||Yn,u=0;u<o.length;){var c=o.indexOf("=",u);if(c===-1)break;var d=o.indexOf(";",u);if(d===-1)d=o.length;else if(d<c){u=o.lastIndexOf(";",c-1)+1;continue}var f=o.slice(u,c).trim();if(l[f]===void 0){var h=o.slice(c+1,d).trim();h.charCodeAt(0)===34&&(h=h.slice(1,-1));try{l[f]=a(h)}catch{l[f]=h}}u=d+1}return l}(n||"")[e]||"",i={};try{(typeof(i=JSON.parse(r))===null||typeof i!="object"||Array.isArray(i))&&(i={})}catch{}this.save(i.token||"",i.model||null)},t.prototype.exportToCookie=function(n,e){var r,i,o;e===void 0&&(e="pb_auth");var s={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},l=ot(this.token);l?.exp?s.expires=new Date(1e3*l.exp):s.expires=new Date("1970-01-01"),n=Object.assign({},s,n);var a={token:this.token,model:((r=this.model)===null||r===void 0?void 0:r.export())||null},u=it(e,JSON.stringify(a),n),c=typeof Blob<"u"?new Blob([u]).size:u.length;return a.model&&c>4096&&(a.model={id:(i=a?.model)===null||i===void 0?void 0:i.id,email:(o=a?.model)===null||o===void 0?void 0:o.email},this.model instanceof Se&&(a.model.username=this.model.username,a.model.verified=this.model.verified,a.model.collectionId=this.model.collectionId),u=it(e,JSON.stringify(a),n)),u},t.prototype.onChange=function(n,e){var r=this;return e===void 0&&(e=!1),this._onChangeCallbacks.push(n),e&&n(this.token,this.model),function(){for(var i=r._onChangeCallbacks.length-1;i>=0;i--)if(r._onChangeCallbacks[i]==n)return delete r._onChangeCallbacks[i],void r._onChangeCallbacks.splice(i,1)}},t.prototype.triggerChange=function(){for(var n=0,e=this._onChangeCallbacks;n<e.length;n++){var r=e[n];r&&r(this.token,this.model)}},t}(),tr=function(t){function n(e){e===void 0&&(e="pocketbase_auth");var r=t.call(this)||this;return r.storageFallback={},r.storageKey=e,r}return k(n,t),Object.defineProperty(n.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){var e,r=this._storageGet(this.storageKey)||{};return r===null||typeof r!="object"||r.model===null||typeof r.model!="object"?null:((e=r.model)===null||e===void 0?void 0:e.collectionId)===void 0?new Ke(r.model):new Se(r.model)},enumerable:!1,configurable:!0}),n.prototype.save=function(e,r){this._storageSet(this.storageKey,{token:e,model:r}),t.prototype.save.call(this,e,r)},n.prototype.clear=function(){this._storageRemove(this.storageKey),t.prototype.clear.call(this)},n.prototype._storageGet=function(e){if(typeof window<"u"&&window?.localStorage){var r=window.localStorage.getItem(e)||"";try{return JSON.parse(r)}catch{return r}}return this.storageFallback[e]},n.prototype._storageSet=function(e,r){if(typeof window<"u"&&window?.localStorage){var i=r;typeof r!="string"&&(i=JSON.stringify(r)),window.localStorage.setItem(e,i)}else this.storageFallback[e]=r},n.prototype._storageRemove=function(e){var r;typeof window<"u"&&window?.localStorage&&((r=window.localStorage)===null||r===void 0||r.removeItem(e)),delete this.storageFallback[e]},n}(er),ue=function(t){this.client=t},nr=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return k(n,t),n.prototype.getAll=function(e){return e===void 0&&(e={}),this.client.send("/api/settings",{method:"GET",params:e}).then(function(r){return r||{}})},n.prototype.update=function(e,r){return e===void 0&&(e={}),r===void 0&&(r={}),this.client.send("/api/settings",{method:"PATCH",params:r,body:e}).then(function(i){return i||{}})},n.prototype.testS3=function(e){return e===void 0&&(e={}),this.client.send("/api/settings/test/s3",{method:"POST",params:e}).then(function(){return!0})},n.prototype.testEmail=function(e,r,i){i===void 0&&(i={});var o={email:e,template:r};return this.client.send("/api/settings/test/email",{method:"POST",params:i,body:o}).then(function(){return!0})},n}(ue),Tt=function(t,n,e,r,i){this.page=t>0?t:1,this.perPage=n>=0?n:0,this.totalItems=e>=0?e:0,this.totalPages=r>=0?r:0,this.items=i||[]},Ge=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return k(n,t),n.prototype.getFullList=function(e,r){return e===void 0&&(e=200),r===void 0&&(r={}),this._getFullList(this.baseCrudPath,e,r)},n.prototype.getList=function(e,r,i){return e===void 0&&(e=1),r===void 0&&(r=30),i===void 0&&(i={}),this._getList(this.baseCrudPath,e,r,i)},n.prototype.getFirstListItem=function(e,r){return r===void 0&&(r={}),this._getFirstListItem(this.baseCrudPath,e,r)},n.prototype.getOne=function(e,r){return r===void 0&&(r={}),this._getOne(this.baseCrudPath,e,r)},n.prototype.create=function(e,r){return e===void 0&&(e={}),r===void 0&&(r={}),this._create(this.baseCrudPath,e,r)},n.prototype.update=function(e,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),this._update(this.baseCrudPath,e,r,i)},n.prototype.delete=function(e,r){return r===void 0&&(r={}),this._delete(this.baseCrudPath,e,r)},n}(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return k(n,t),n.prototype._getFullList=function(e,r,i){var o=this;r===void 0&&(r=100),i===void 0&&(i={});var s=[],l=function(a){return _(o,void 0,void 0,function(){return j(this,function(u){return[2,this._getList(e,a,r,i).then(function(c){var d=c,f=d.items,h=d.totalItems;return s=s.concat(f),f.length&&h>s.length?l(a+1):s})]})})};return l(1)},n.prototype._getList=function(e,r,i,o){var s=this;return r===void 0&&(r=1),i===void 0&&(i=30),o===void 0&&(o={}),o=Object.assign({page:r,perPage:i},o),this.client.send(e,{method:"GET",params:o}).then(function(l){var a=[];if(l?.items){l.items=l.items||[];for(var u=0,c=l.items;u<c.length;u++){var d=c[u];a.push(s.decode(d))}}return new Tt(l?.page||1,l?.perPage||0,l?.totalItems||0,l?.totalPages||0,a)})},n.prototype._getOne=function(e,r,i){var o=this;return i===void 0&&(i={}),this.client.send(e+"/"+encodeURIComponent(r),{method:"GET",params:i}).then(function(s){return o.decode(s)})},n.prototype._getFirstListItem=function(e,r,i){return i===void 0&&(i={}),i=Object.assign({filter:r,$cancelKey:"one_by_filter_"+e+"_"+r},i),this._getList(e,1,1,i).then(function(o){var s;if(!(!((s=o?.items)===null||s===void 0)&&s.length))throw new se({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return o.items[0]})},n.prototype._create=function(e,r,i){var o=this;return r===void 0&&(r={}),i===void 0&&(i={}),this.client.send(e,{method:"POST",params:i,body:r}).then(function(s){return o.decode(s)})},n.prototype._update=function(e,r,i,o){var s=this;return i===void 0&&(i={}),o===void 0&&(o={}),this.client.send(e+"/"+encodeURIComponent(r),{method:"PATCH",params:o,body:i}).then(function(l){return s.decode(l)})},n.prototype._delete=function(e,r,i){return i===void 0&&(i={}),this.client.send(e+"/"+encodeURIComponent(r),{method:"DELETE",params:i}).then(function(){return!0})},n}(ue)),rr=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return k(n,t),n.prototype.decode=function(e){return new Ke(e)},Object.defineProperty(n.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),n.prototype.update=function(e,r,i){var o=this;return r===void 0&&(r={}),i===void 0&&(i={}),t.prototype.update.call(this,e,r,i).then(function(s){var l,a;return o.client.authStore.model&&((l=o.client.authStore.model)===null||l===void 0?void 0:l.collectionId)===void 0&&((a=o.client.authStore.model)===null||a===void 0?void 0:a.id)===s?.id&&o.client.authStore.save(o.client.authStore.token,s),s})},n.prototype.delete=function(e,r){var i=this;return r===void 0&&(r={}),t.prototype.delete.call(this,e,r).then(function(o){var s,l;return o&&i.client.authStore.model&&((s=i.client.authStore.model)===null||s===void 0?void 0:s.collectionId)===void 0&&((l=i.client.authStore.model)===null||l===void 0?void 0:l.id)===e&&i.client.authStore.clear(),o})},n.prototype.authResponse=function(e){var r=this.decode(e?.admin||{});return e?.token&&e?.admin&&this.client.authStore.save(e.token,r),Object.assign({},e,{token:e?.token||"",admin:r})},n.prototype.authWithPassword=function(e,r,i,o){return i===void 0&&(i={}),o===void 0&&(o={}),i=Object.assign({identity:e,password:r},i),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:o,body:i,headers:{Authorization:""}}).then(this.authResponse.bind(this))},n.prototype.authRefresh=function(e,r){return e===void 0&&(e={}),r===void 0&&(r={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:r,body:e}).then(this.authResponse.bind(this))},n.prototype.requestPasswordReset=function(e,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({email:e},r),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:i,body:r}).then(function(){return!0})},n.prototype.confirmPasswordReset=function(e,r,i,o,s){return o===void 0&&(o={}),s===void 0&&(s={}),o=Object.assign({token:e,password:r,passwordConfirm:i},o),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:s,body:o}).then(function(){return!0})},n}(Ge),ir=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return k(n,t),n.prototype.load=function(e){t.prototype.load.call(this,e),this.recordId=typeof e.recordId=="string"?e.recordId:"",this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.provider=typeof e.provider=="string"?e.provider:"",this.providerId=typeof e.providerId=="string"?e.providerId:""},n}(ae),or=function(t){function n(e,r){var i=t.call(this,e)||this;return i.collectionIdOrName=r,i}return k(n,t),n.prototype.decode=function(e){return new Se(e)},Object.defineProperty(n.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),n.prototype.subscribeOne=function(e,r){return _(this,void 0,void 0,function(){return j(this,function(i){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,r)]})})},n.prototype.subscribe=function(e,r){return _(this,void 0,void 0,function(){var i;return j(this,function(o){if(typeof e=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,e)];if(!r)throw new Error("Missing subscription callback.");if(e==="")throw new Error("Missing topic.");return i=this.collectionIdOrName,e!=="*"&&(i+="/"+e),[2,this.client.realtime.subscribe(i,r)]})})},n.prototype.unsubscribe=function(e){return _(this,void 0,void 0,function(){return j(this,function(r){return e==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:e?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},n.prototype.getFullList=function(e,r){return e===void 0&&(e=200),r===void 0&&(r={}),t.prototype.getFullList.call(this,e,r)},n.prototype.getList=function(e,r,i){return e===void 0&&(e=1),r===void 0&&(r=30),i===void 0&&(i={}),t.prototype.getList.call(this,e,r,i)},n.prototype.getFirstListItem=function(e,r){return r===void 0&&(r={}),t.prototype.getFirstListItem.call(this,e,r)},n.prototype.getOne=function(e,r){return r===void 0&&(r={}),t.prototype.getOne.call(this,e,r)},n.prototype.create=function(e,r){return e===void 0&&(e={}),r===void 0&&(r={}),t.prototype.create.call(this,e,r)},n.prototype.update=function(e,r,i){var o=this;return r===void 0&&(r={}),i===void 0&&(i={}),t.prototype.update.call(this,e,r,i).then(function(s){var l,a;return((l=o.client.authStore.model)===null||l===void 0?void 0:l.collectionId)!==void 0&&((a=o.client.authStore.model)===null||a===void 0?void 0:a.id)===s?.id&&o.client.authStore.save(o.client.authStore.token,s),s})},n.prototype.delete=function(e,r){var i=this;return r===void 0&&(r={}),t.prototype.delete.call(this,e,r).then(function(o){var s,l;return o&&((s=i.client.authStore.model)===null||s===void 0?void 0:s.collectionId)!==void 0&&((l=i.client.authStore.model)===null||l===void 0?void 0:l.id)===e&&i.client.authStore.clear(),o})},n.prototype.authResponse=function(e){var r=this.decode(e?.record||{});return this.client.authStore.save(e?.token,r),Object.assign({},e,{token:e?.token||"",record:r})},n.prototype.listAuthMethods=function(e){return e===void 0&&(e={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:e}).then(function(r){return Object.assign({},r,{usernamePassword:!!r?.usernamePassword,emailPassword:!!r?.emailPassword,authProviders:Array.isArray(r?.authProviders)?r?.authProviders:[]})})},n.prototype.authWithPassword=function(e,r,i,o){var s=this;return i===void 0&&(i={}),o===void 0&&(o={}),i=Object.assign({identity:e,password:r},i),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:o,body:i,headers:{Authorization:""}}).then(function(l){return s.authResponse(l)})},n.prototype.authWithOAuth2=function(e,r,i,o,s,l,a){var u=this;return s===void 0&&(s={}),l===void 0&&(l={}),a===void 0&&(a={}),l=Object.assign({provider:e,code:r,codeVerifier:i,redirectUrl:o,createData:s},l),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:a,body:l}).then(function(c){return u.authResponse(c)})},n.prototype.authRefresh=function(e,r){var i=this;return e===void 0&&(e={}),r===void 0&&(r={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:r,body:e}).then(function(o){return i.authResponse(o)})},n.prototype.requestPasswordReset=function(e,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({email:e},r),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:i,body:r}).then(function(){return!0})},n.prototype.confirmPasswordReset=function(e,r,i,o,s){return o===void 0&&(o={}),s===void 0&&(s={}),o=Object.assign({token:e,password:r,passwordConfirm:i},o),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:s,body:o}).then(function(){return!0})},n.prototype.requestVerification=function(e,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({email:e},r),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:i,body:r}).then(function(){return!0})},n.prototype.confirmVerification=function(e,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({token:e},r),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:i,body:r}).then(function(){return!0})},n.prototype.requestEmailChange=function(e,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({newEmail:e},r),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:i,body:r}).then(function(){return!0})},n.prototype.confirmEmailChange=function(e,r,i,o){return i===void 0&&(i={}),o===void 0&&(o={}),i=Object.assign({token:e,password:r},i),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:o,body:i}).then(function(){return!0})},n.prototype.listExternalAuths=function(e,r){return r===void 0&&(r={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",{method:"GET",params:r}).then(function(i){var o=[];if(Array.isArray(i))for(var s=0,l=i;s<l.length;s++){var a=l[s];o.push(new ir(a))}return o})},n.prototype.unlinkExternalAuth=function(e,r,i){return i===void 0&&(i={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(r),{method:"DELETE",params:i}).then(function(){return!0})},n}(Ge),sr=function(){function t(n){n===void 0&&(n={}),this.load(n||{})}return t.prototype.load=function(n){this.id=n.id!==void 0?n.id:"",this.name=n.name!==void 0?n.name:"",this.type=n.type!==void 0?n.type:"text",this.system=!!n.system,this.required=!!n.required,this.unique=!!n.unique,this.options=typeof n.options=="object"&&n.options!==null?n.options:{}},t}(),lr=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return k(n,t),n.prototype.load=function(e){t.prototype.load.call(this,e),this.system=!!e.system,this.name=typeof e.name=="string"?e.name:"",this.type=typeof e.type=="string"?e.type:"base",this.options=e.options!==void 0?e.options:{},this.listRule=typeof e.listRule=="string"?e.listRule:null,this.viewRule=typeof e.viewRule=="string"?e.viewRule:null,this.createRule=typeof e.createRule=="string"?e.createRule:null,this.updateRule=typeof e.updateRule=="string"?e.updateRule:null,this.deleteRule=typeof e.deleteRule=="string"?e.deleteRule:null,e.schema=Array.isArray(e.schema)?e.schema:[],this.schema=[];for(var r=0,i=e.schema;r<i.length;r++){var o=i[r];this.schema.push(new sr(o))}},Object.defineProperty(n.prototype,"isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSingle",{get:function(){return this.type==="single"},enumerable:!1,configurable:!0}),n}(ae),ar=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return k(n,t),n.prototype.decode=function(e){return new lr(e)},Object.defineProperty(n.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),n.prototype.import=function(e,r,i){return r===void 0&&(r=!1),i===void 0&&(i={}),_(this,void 0,void 0,function(){return j(this,function(o){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:i,body:{collections:e,deleteMissing:r}}).then(function(){return!0})]})})},n}(Ge),st=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return k(n,t),n.prototype.load=function(e){t.prototype.load.call(this,e),e.remoteIp=e.remoteIp||e.ip,this.url=typeof e.url=="string"?e.url:"",this.method=typeof e.method=="string"?e.method:"GET",this.status=typeof e.status=="number"?e.status:200,this.auth=typeof e.auth=="string"?e.auth:"guest",this.remoteIp=typeof e.remoteIp=="string"?e.remoteIp:"",this.userIp=typeof e.userIp=="string"?e.userIp:"",this.referer=typeof e.referer=="string"?e.referer:"",this.userAgent=typeof e.userAgent=="string"?e.userAgent:"",this.meta=typeof e.meta=="object"&&e.meta!==null?e.meta:{}},n}(ae),ur=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return k(n,t),n.prototype.getRequestsList=function(e,r,i){return e===void 0&&(e=1),r===void 0&&(r=30),i===void 0&&(i={}),i=Object.assign({page:e,perPage:r},i),this.client.send("/api/logs/requests",{method:"GET",params:i}).then(function(o){var s=[];if(o?.items){o.items=o?.items||[];for(var l=0,a=o.items;l<a.length;l++){var u=a[l];s.push(new st(u))}}return new Tt(o?.page||1,o?.perPage||0,o?.totalItems||0,o?.totalPages||0,s)})},n.prototype.getRequest=function(e,r){return r===void 0&&(r={}),this.client.send("/api/logs/requests/"+encodeURIComponent(e),{method:"GET",params:r}).then(function(i){return new st(i)})},n.prototype.getRequestsStats=function(e){return e===void 0&&(e={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:e}).then(function(r){return r})},n}(ue),cr=function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.clientId="",e.eventSource=null,e.subscriptions={},e.lastSentTopics=[],e.maxConnectTimeout=1e4,e.reconnectAttempts=0,e.maxReconnectAttempts=1/0,e.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],e.pendingConnects=[],e}return k(n,t),Object.defineProperty(n.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),n.prototype.subscribe=function(e,r){var i;return _(this,void 0,void 0,function(){var o,s=this;return j(this,function(l){switch(l.label){case 0:if(!e)throw new Error("topic must be set.");return o=function(a){var u,c=a;try{u=JSON.parse(c?.data)}catch{}r(u||{})},this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(o),this.isConnected?[3,2]:[4,this.connect()];case 1:return l.sent(),[3,5];case 2:return this.subscriptions[e].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return l.sent(),[3,5];case 4:(i=this.eventSource)===null||i===void 0||i.addEventListener(e,o),l.label=5;case 5:return[2,function(){return _(s,void 0,void 0,function(){return j(this,function(a){return[2,this.unsubscribeByTopicAndListener(e,o)]})})}]}})})},n.prototype.unsubscribe=function(e){var r;return _(this,void 0,void 0,function(){var i,o,s;return j(this,function(l){switch(l.label){case 0:if(!this.hasSubscriptionListeners(e))return[2];if(e){for(i=0,o=this.subscriptions[e];i<o.length;i++)s=o[i],(r=this.eventSource)===null||r===void 0||r.removeEventListener(e,s);delete this.subscriptions[e]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:l.sent(),l.label=3;case 3:return[2]}})})},n.prototype.unsubscribeByPrefix=function(e){var r;return _(this,void 0,void 0,function(){var i,o,s,l,a;return j(this,function(u){switch(u.label){case 0:for(o in i=!1,this.subscriptions)if(o.startsWith(e)){for(i=!0,s=0,l=this.subscriptions[o];s<l.length;s++)a=l[s],(r=this.eventSource)===null||r===void 0||r.removeEventListener(o,a);delete this.subscriptions[o]}return i?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return u.sent(),[3,3];case 2:this.disconnect(),u.label=3;case 3:return[2]}})})},n.prototype.unsubscribeByTopicAndListener=function(e,r){var i;return _(this,void 0,void 0,function(){var o,s;return j(this,function(l){switch(l.label){case 0:if(!Array.isArray(this.subscriptions[e])||!this.subscriptions[e].length)return[2];for(o=!1,s=this.subscriptions[e].length-1;s>=0;s--)this.subscriptions[e][s]===r&&(o=!0,delete this.subscriptions[e][s],this.subscriptions[e].splice(s,1),(i=this.eventSource)===null||i===void 0||i.removeEventListener(e,r));return o?(this.subscriptions[e].length||delete this.subscriptions[e],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:l.sent(),l.label=3;case 3:return[2]}})})},n.prototype.hasSubscriptionListeners=function(e){var r,i;if(this.subscriptions=this.subscriptions||{},e)return!!(!((r=this.subscriptions[e])===null||r===void 0)&&r.length);for(var o in this.subscriptions)if(!((i=this.subscriptions[o])===null||i===void 0)&&i.length)return!0;return!1},n.prototype.submitSubscriptions=function(){return _(this,void 0,void 0,function(){return j(this,function(e){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:"realtime_"+this.clientId}}).catch(function(r){if(!r?.isAbort)throw r})]):[2]})})},n.prototype.getNonEmptySubscriptionTopics=function(){var e=[];for(var r in this.subscriptions)this.subscriptions[r].length&&e.push(r);return e},n.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.removeAllSubscriptionListeners(),this.subscriptions)for(var r=0,i=this.subscriptions[e];r<i.length;r++){var o=i[r];this.eventSource.addEventListener(e,o)}},n.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.subscriptions)for(var r=0,i=this.subscriptions[e];r<i.length;r++){var o=i[r];this.eventSource.removeEventListener(e,o)}},n.prototype.connect=function(){return _(this,void 0,void 0,function(){var e=this;return j(this,function(r){return this.reconnectAttempts>0?[2]:[2,new Promise(function(i,o){e.pendingConnects.push({resolve:i,reject:o}),e.pendingConnects.length>1||e.initConnect()})]})})},n.prototype.initConnect=function(){var e=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){e.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(r){e.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(r){var i=r;e.clientId=i?.lastEventId,e.submitSubscriptions().then(function(){return _(e,void 0,void 0,function(){var o;return j(this,function(s){switch(s.label){case 0:o=3,s.label=1;case 1:return this.hasUnsentSubscriptions()&&o>0?(o--,[4,this.submitSubscriptions()]):[3,3];case 2:return s.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var o=0,s=e.pendingConnects;o<s.length;o++)s[o].resolve();e.pendingConnects=[],e.reconnectAttempts=0,clearTimeout(e.reconnectTimeoutId),clearTimeout(e.connectTimeoutId)}).catch(function(o){e.clientId="",e.connectErrorHandler(o)})})},n.prototype.hasUnsentSubscriptions=function(){var e=this.getNonEmptySubscriptionTopics();if(e.length!=this.lastSentTopics.length)return!0;for(var r=0,i=e;r<i.length;r++){var o=i[r];if(!this.lastSentTopics.includes(o))return!0}return!1},n.prototype.connectErrorHandler=function(e){var r=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var i=0,o=this.pendingConnects;i<o.length;i++)o[i].reject(new se(e));this.disconnect()}else{this.disconnect(!0);var s=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){r.initConnect()},s)}},n.prototype.disconnect=function(e){var r;if(e===void 0&&(e=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),(r=this.eventSource)===null||r===void 0||r.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(var i=new se(new Error("Realtime disconnected.")),o=0,s=this.pendingConnects;o<s.length;o++)s[o].reject(i);this.pendingConnects=[]}},n}(ue),dr=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return k(n,t),n.prototype.check=function(e){return e===void 0&&(e={}),this.client.send("/api/health",{method:"GET",params:e})},n}(ue),fr=function(){function t(n,e,r){n===void 0&&(n="/"),r===void 0&&(r="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=n,this.lang=r,this.authStore=e||new tr,this.admins=new rr(this),this.collections=new ar(this),this.logs=new ur(this),this.settings=new nr(this),this.realtime=new cr(this),this.health=new dr(this)}return t.prototype.collection=function(n){return this.recordServices[n]||(this.recordServices[n]=new or(this,n)),this.recordServices[n]},t.prototype.autoCancellation=function(n){return this.enableAutoCancellation=!!n,this},t.prototype.cancelRequest=function(n){return this.cancelControllers[n]&&(this.cancelControllers[n].abort(),delete this.cancelControllers[n]),this},t.prototype.cancelAllRequests=function(){for(var n in this.cancelControllers)this.cancelControllers[n].abort();return this.cancelControllers={},this},t.prototype.send=function(n,e){var r,i,o,s,l,a,u,c;return _(this,void 0,void 0,function(){var d,f,h,p,S,I=this;return j(this,function(N){return(d=Object.assign({method:"GET"},e)).body&&d.body.constructor.name!=="FormData"&&(typeof d.body!="string"&&(d.body=JSON.stringify(d.body)),((r=d?.headers)===null||r===void 0?void 0:r["Content-Type"])===void 0&&(d.headers=Object.assign({},d.headers,{"Content-Type":"application/json"}))),((i=d?.headers)===null||i===void 0?void 0:i["Accept-Language"])===void 0&&(d.headers=Object.assign({},d.headers,{"Accept-Language":this.lang})),((o=this.authStore)===null||o===void 0?void 0:o.token)&&((s=d?.headers)===null||s===void 0?void 0:s.Authorization)===void 0&&(d.headers=Object.assign({},d.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((l=d.params)===null||l===void 0?void 0:l.$autoCancel)!==!1&&(f=((a=d.params)===null||a===void 0?void 0:a.$cancelKey)||(d.method||"GET")+n,this.cancelRequest(f),h=new AbortController,this.cancelControllers[f]=h,d.signal=h.signal),(u=d.params)===null||u===void 0||delete u.$autoCancel,(c=d.params)===null||c===void 0||delete c.$cancelKey,p=this.buildUrl(n),d.params!==void 0&&((S=this.serializeQueryParams(d.params))&&(p+=(p.includes("?")?"&":"?")+S),delete d.params),this.beforeSend&&(d=Object.assign({},this.beforeSend(p,d))),[2,fetch(p,d).then(function(P){return _(I,void 0,void 0,function(){var E;return j(this,function(m){switch(m.label){case 0:E={},m.label=1;case 1:return m.trys.push([1,3,,4]),[4,P.json()];case 2:return E=m.sent(),[3,4];case 3:return m.sent(),[3,4];case 4:if(this.afterSend&&(E=this.afterSend(P,E)),P.status>=400)throw new se({url:P.url,status:P.status,data:E});return[2,E]}})})}).catch(function(P){throw new se(P)})]})})},t.prototype.getFileUrl=function(n,e,r){r===void 0&&(r={});var i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(n.collectionId||n.collectionName)),i.push(encodeURIComponent(n.id)),i.push(encodeURIComponent(e));var o=this.buildUrl(i.join("/"));if(Object.keys(r).length){var s=new URLSearchParams(r);o+=(o.includes("?")?"&":"?")+s}return o},t.prototype.buildUrl=function(n){var e=this.baseUrl+(this.baseUrl.endsWith("/")?"":"/");return n&&(e+=n.startsWith("/")?n.substring(1):n),e},t.prototype.serializeQueryParams=function(n){var e=[];for(var r in n)if(n[r]!==null){var i=n[r],o=encodeURIComponent(r);if(Array.isArray(i))for(var s=0,l=i;s<l.length;s++){var a=l[s];e.push(o+"="+encodeURIComponent(a))}else i instanceof Date?e.push(o+"="+encodeURIComponent(i.toISOString())):typeof i!==null&&typeof i=="object"?e.push(o+"="+encodeURIComponent(JSON.stringify(i))):e.push(o+"="+encodeURIComponent(i))}return e.join("&")},t}();const He=Ve(()=>({})),hr=t=>g(He.Provider,{value:()=>t.value,get children(){return t.children}}),pr=$("<form></form>",2);function Nt(t={}){const{initialValues:n={},validateOn:e="submit",revalidateOn:r="input",validate:i}=t,o=new Map,s=new Map,[l,a]=v([]),[u,c]=v([]),[d,f]=v(),[h,p]=v(0),[S,I]=v(!1),[N,P]=v(!1),[E,m]=v(!1),[L,U]=v(!1),[J,Ne]=v(!1),[qt,w]=v(!1),[b,O]=v({});return{internal:{validators:new Set,initialValues:n,validateOn:e,revalidateOn:r,validate:i,fields:o,fieldArrays:s,getFieldNames:l,setFieldNames:a,getFieldArrayNames:u,setFieldArrayNames:c,setElement:f,setSubmitCount:p,setSubmitting:I,setSubmitted:P,setValidating:m,setTouched:U,setDirty:Ne,setInvalid:w,setResponse:O},get element(){return d()},get submitCount(){return h()},get submitting(){return S()},get submitted(){return N()},get validating(){return E()},get touched(){return L()},get dirty(){return J()},get invalid(){return qt()},get response(){return b()}}}function lt(t,n){const{checked:e,files:r,multiple:i,options:o,type:s,value:l}=t,a=()=>C(n.getInput);let u,c;return s==="number"||s==="range"?(u=a(),c=parseFloat(l),u===void 0||!isNaN(c)?c:u):s==="checkbox"?l&&l!=="on"?e?[...a()||[],l]:(a()||[]).filter(d=>d!==l):e:s==="file"?i?r:r?.[0]:o&&i?[...o].filter(d=>d.selected&&!d.disabled).map(d=>d.value):l}function Lt(t,n){return t&&n?t.split(".").reduce((e,r)=>e?.[r],n):n}function Rt(t,n){return Lt(n,t.internal.initialValues)}function ce(t,n,e={}){const{initialValue:r,validate:i=[]}=e;let o=t.internal.fields.get(n);if(o)e.validate&&(t.internal.fields.set(n,{...o,validate:i}),o.validate=i);else{const s=r?r[0]:Rt(t,n),[l,a]=v([]),[u,c]=v(s),[d,f]=v(s),[h,p]=v(""),[S,I]=v(!1),[N,P]=v(!1),[E,m]=v(!1);o={consumers:new Set,getElements:l,setElements:a,getInitialInput:u,setInitialInput:c,getInput:d,setInput:f,getError:h,setError:p,getActive:S,setActive:I,getTouched:N,setTouched:P,getDirty:E,setDirty:m,validate:i},t.internal.fields.set(n,o),t.internal.setFieldNames(L=>[...L,n])}return o}var gr=0;function Je(){return gr++}function xt(t,n){return(Lt(n,t.internal.initialValues)||[]).map(()=>Je())}function We(t,n,e={}){const{validate:r=[]}=e;let i=t.internal.fieldArrays.get(n);if(i)e.validate&&(t.internal.fieldArrays.set(n,{...i,validate:r}),i.validate=r);else{const o=xt(t,n),[s,l]=v(o),[a,u]=v(o),[c,d]=v(""),[f,h]=v(!1),[p,S]=v(!1),[I,N]=v(!1);i={consumers:new Set,getInitialItems:s,setInitialItems:l,getItems:a,setItems:u,getError:c,setError:d,getActive:f,setActive:h,getTouched:p,setTouched:S,getDirty:I,setDirty:N,validate:r},t.internal.fieldArrays.set(n,i),t.internal.setFieldArrayNames(P=>[...P,n])}return i}function yr(t,n,e){const{initialValue:r,replacePrefix:i,shouldActive:o,shouldTouched:s,shouldDirty:l,shouldValid:a}=e;return n.reduce((u,c)=>{const d=ce(t,c);return(!o||d.getActive())&&(!s||d.getTouched())&&(!l||d.getDirty())&&(!a||!d.getError())&&(i?c.replace(i,""):c).split(".").reduce((f,h,p,S)=>{const I=f[h],N=p===S.length-1?d.getInput():I&&typeof I=="object"?I:isNaN(+S[p+1])?{}:[];return f[h]=N,f[h]},u),u},r)}function ze(t,n){const e=C(t.internal.getFieldNames),r=C(t.internal.getFieldArrayNames);return typeof n=="string"||Array.isArray(n)?(typeof n=="string"?[n]:n).reduce((i,o)=>{const[s,l]=i;return t.internal.fields.has(o)?s.add(o):t.internal.fieldArrays.has(o)&&(r.forEach(a=>{a.startsWith(o)&&l.add(a)}),e.forEach(a=>{a.startsWith(o)&&s.add(a)})),i},[new Set,new Set]).map(i=>[...i]):[e,r]}function Xe(t,n){return(typeof t!="string"&&!Array.isArray(t)?t:n)||{}}function mr(t){return typeof t=="function"?[t]:t||[]}function kt(t,n,e){n.split(".").reduce((r,i,o,s)=>typeof r=="object"&&o===s.length-1?r[i]=e:typeof r[i]=="object"?r[i]:isNaN(+i)?r[i]={}:r[i]=[],t.internal.initialValues)}function vr(t,n){C(()=>{t.internal.setDirty(n||[...t.internal.fields,...t.internal.fieldArrays].some(([,e])=>e.getActive()&&e.getDirty()))})}function _t(t,n){C(()=>{const e=n.getInitialInput(),r=n.getInput(),i=Array.isArray(e)&&Array.isArray(r)?e.join()!==r.join():typeof e=="number"&&typeof r=="number"&&isNaN(e)&&isNaN(r)?!1:e!==r;D(()=>{n.setDirty(i),vr(t,i)})})}function jt(t,n,e){C(()=>{const{on:r,shouldFocus:i=!1}=e;(!t.submitted&&t.internal.validateOn===r||t.submitted&&t.internal.revalidateOn===r)&&Ft(t,n,{shouldFocus:i})})}function at(t,n,e,r){D(()=>{n.setInput(()=>r),n.setTouched(!0),t.internal.setTouched(!0),_t(t,n),jt(t,e,{on:"input"})})}function De(t){let n=!1,e=!1,r=!1;C(()=>{for(const[,i]of[...t.internal.fields,...t.internal.fieldArrays])if(i.getActive()&&(i.getTouched()&&(n=!0),i.getDirty()&&(e=!0),i.getError()&&(r=!0)),n&&e&&r)break}),D(()=>{t.internal.setTouched(n),t.internal.setDirty(e),t.internal.setInvalid(r)})}function $t(t,n){C(()=>t.internal.fields.get(n)?.getElements()[0]?.focus())}function br(t,n,e,r={}){const{shouldFocus:i=!!e}=r,o=t.internal.fieldArrays.has(n),s=o?We(t,n):ce(t,n);D(()=>{C(()=>{s.setError(e),t.internal.setInvalid(!!e||[...t.internal.fields,...t.internal.fieldArrays].some(([,l])=>l.getActive()&&l.getError()))}),e&&!o&&i&&$t(t,n)})}function Dt(t,n,e){const[r]=ze(t,n),{shouldActive:i=!0,shouldTouched:o=!1,shouldDirty:s=!1,shouldValid:l=!1}=Xe(n,e);return typeof n!="string"&&!Array.isArray(n)&&t.internal.getFieldNames(),yr(t,r,{initialValue:{},shouldActive:i,shouldTouched:o,shouldDirty:s,shouldValid:l})}async function Ft(t,n,e){const[r,i]=ze(t,n),{shouldActive:o=!0,shouldFocus:s=!0}=Xe(n,e),l=Je();t.internal.validators.add(l),t.internal.setValidating(!0);let a=!0;return await D(async()=>{await C(async()=>{const u=t.internal.validate?await t.internal.validate(Dt(t,{shouldActive:o})):{},[c]=await Promise.all([Promise.all(r.map(async d=>{const f=ce(t,d);if(!o||f.getActive()){let h;for(const S of f.validate)if(h=await S(f.getInput()),h)break;const p=h||u[d]||"";return p&&(a=!1),f.setError(p),p?d:null}})),Promise.all(i.map(async d=>{const f=We(t,d);if(!o||f.getActive()){let h="";for(const S of f.validate)if(h=await S(f.getItems()),h)break;const p=h||u[d]||"";p&&(a=!1),f.setError(p)}}))]);if(s){const d=c.find(f=>f);d&&$t(t,d)}t.internal.setInvalid([...t.internal.fields,...t.internal.fieldArrays].some(([,d])=>d.getActive()&&d.getError())),t.internal.validators.delete(l),t.internal.validators.size||t.internal.setValidating(!1)})}),a}function wr(t,n,e={}){return async r=>{r.preventDefault();const{keepResponse:i=!1,shouldActive:o=!0,shouldTouched:s=!1,shouldDirty:l=!1,shouldFocus:a=!0}=e;D(()=>{i||t.internal.setResponse({}),t.internal.setSubmitCount(u=>u+1),t.internal.setSubmitted(!0),t.internal.setSubmitting(!0)});try{await Ft(t,{shouldActive:o,shouldFocus:a})&&await n(Dt(t,{shouldActive:o,shouldTouched:s,shouldDirty:l}),r)}catch(u){t.internal.setResponse({status:"error",message:u?.message||"An unknown error has occurred."})}finally{t.internal.setSubmitting(!1)}}}function Sr(t,n,e){let[r,i]=ze(t,n);const o=typeof n=="string"&&r.length===1,s=!o&&!Array.isArray(n),{initialValue:l,initialValues:a,keepResponse:u=!1,keepSubmitCount:c=!1,keepSubmitted:d=!1,keepValues:f=!1,keepDirtyValues:h=!1,keepItems:p=!1,keepDirtyItems:S=!1,keepErrors:I=!1,keepTouched:N=!1,keepDirty:P=!1}=Xe(n,e);o?l&&kt(t,r[0],l[0]):a&&(s?t.internal.initialValues=a:t.internal.initialValues={...t.internal.initialValues,...a}),D(()=>{r.forEach(E=>{const m=ce(t,E),L=Rt(t,E);m.setInitialInput(()=>L);const U=h&&m.getDirty();!f&&!U&&(m.setInput(()=>L),m.getElements().forEach(J=>{J.type==="file"&&(J.value="")})),N||m.setTouched(!1),!P&&!f&&!U&&m.setDirty(!1),I||m.setError("")}),i.forEach(E=>{const m=We(t,E),L=S&&m.getDirty();if(!p&&!L){const U=xt(t,E);m.setInitialItems(U),m.setItems(U)}N||m.setTouched(!1),!P&&!p&&!L&&m.setDirty(!1),I||m.setError("")}),s&&(u||t.internal.setResponse({}),c||t.internal.setSubmitCount(0),d||t.internal.setSubmitted(!1)),De(t)})}function Ar(t,n,e={}){const{initialValue:r,keepActive:i=!1,keepState:o=!0}=e,s=mr(e.validate);let l;const a=Je();return D(()=>{l=ce(t,n,{initialValue:r,validate:s}),l.consumers.add(a),r&&(kt(t,n,r[0]),l.setInitialInput(()=>r[0]),_t(t,l)),C(l.getActive)||(l.setActive(!0),De(t))}),Ae(()=>{l.consumers.delete(a),!i&&!l.consumers.size&&D(()=>{l.setActive(!1),o?De(t):Sr(t,n)}),setTimeout(()=>l.setElements(u=>u.filter(c=>c.isConnected)))}),{props:{name:n,ref(u){D(()=>{l.setElements(c=>[...c,u]),Wt(()=>{if(l.getInitialInput()===void 0&&C(l.getInput)===void 0&&u.type!=="radio"&&u.type!=="file"){const c=lt(u,l);l.setInitialInput(()=>c),l.setInput(()=>c)}})})},onInput(u){at(t,l,n,lt(u.currentTarget,l))},onChange(){jt(t,n,{on:"change"})},onBlur(u){const{type:c,value:d}=u.currentTarget;c==="number"&&d===""?at(t,l,n,NaN):D(()=>{l.setTouched(!0),t.internal.setTouched(!0)})}},name:n,get value(){return l.getInput()},get error(){return l.getError()},get active(){return l.getActive()},get touched(){return l.getTouched()},get dirty(){return l.getDirty()}}}function Q(t){const[n,e]=Pe(t,["of","name","children"]);return T(()=>n.children(Ar(n.of,n.name,e)))}function Ut(t){const[n,e,r]=Pe(t,["of","onSubmit","children"],["keepResponse","shouldActive","shouldTouched","shouldDirty","shouldFocus"]);return(()=>{const i=pr.cloneNode(!0),o=t.of.internal.setElement;return typeof o=="function"?bn(o,i):t.of.internal.setElement=i,Ee(i,F(r,{get onSubmit(){return wr(n.of,n.onSubmit,e)},noValidate:""}),!1,!0),R(i,()=>n.children),i})()}function Cr(t){return n=>n&&!/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(n)?t:""}function ie(t){return n=>!n&&n!==0||(n instanceof FileList||Array.isArray(n))&&!n.length?t:""}const Pr=$("<button></button>",2),Vt=t=>(()=>{const n=Pr.cloneNode(!0);return Ee(n,t,!1,!0),R(n,()=>t.children),n})(),Ir="_error_hpf4t_1",Er={error:Ir},Or=$("<label></label>",2),Tr=$("<input>",1),Nr=$("<small></small>",2),Y=t=>{const[,n]=Pe(t,["value","label","error"]),e=r=>`${r}-error`;return[(()=>{const r=Or.cloneNode(!0);return R(r,()=>t.label),q(()=>we(r,"for",t.name)),r})(),(()=>{const r=Tr.cloneNode(!0);return Ee(r,F(n,{get id(){return t.name},get value(){return t.value||""},get["aria-invalid"](){return!!t.error||void 0},get["aria-errormessage"](){return e(t.name)}}),!1,!1),r})(),g(Ie,{get when(){return t.error},get children(){const r=Nr.cloneNode(!0);return R(r,()=>t.error),q(i=>{const o=e(t.name),s=Er.error;return o!==i._v$&&we(r,"id",i._v$=o),s!==i._v$2&&wt(r,i._v$2=s),i},{_v$:void 0,_v$2:void 0}),r}})]},Lr=t=>g(Ut,{get of(){return t.form},onSubmit:n=>t.onLogin(n),get children(){return[g(Q,{get of(){return t.form},name:"usernameOrEmail",get validate(){return[ie("Username/email is required!")]},children:n=>g(Y,F(()=>n.props,{type:"text",label:"Username or email",get value(){return n.value},get error(){return n.error}}))}),g(Q,{get of(){return t.form},name:"password",get validate(){return[ie("Password is required!")]},children:n=>g(Y,F(()=>n.props,{type:"password",label:"Password",get value(){return n.value},get error(){return n.error}}))}),g(Vt,{type:"submit",get["aria-busy"](){return t.form.submitting},get disabled(){return t.form.submitting},children:"Login"})]}}),Rr=$("<article><p>Don't have an account? </p></article>",4),xr=()=>{const t=le(He),n=Nt(),e=async r=>{const i=await t().collection("users").authWithPassword(r.usernameOrEmail,r.password);console.log(i)};return(()=>{const r=Rr.cloneNode(!0),i=r.firstChild;return i.firstChild,R(r,g(Lr,{form:n,onLogin:e}),i),R(i,g(Z,{href:"/register",children:"Register"}),null),r})()},kr=(t,n)=>async e=>{try{await n(e)}catch(r){const i=r.data.data;console.log(r.data);const o=Object.keys(i);for(const s of o)br(t,s,i[s].message)}},_r=t=>g(Ut,{get of(){return t.form},onSubmit:n=>t.onRegister(n),get children(){return[g(Q,{get of(){return t.form},name:"email",get validate(){return[ie("Email is required!"),Cr("Invalid email address!")]},children:n=>g(Y,F(()=>n.props,{type:"email",label:"Email",get value(){return n.value},get error(){return n.error}}))}),g(Q,{get of(){return t.form},name:"username",get validate(){return[ie("Username is required!")]},children:n=>g(Y,F(()=>n.props,{type:"text",label:"Username",get value(){return n.value},get error(){return n.error}}))}),g(Q,{get of(){return t.form},name:"password",get validate(){return[ie("Password is required!")]},children:n=>g(Y,F(()=>n.props,{type:"password",label:"Password",get value(){return n.value},get error(){return n.error}}))}),g(Q,{get of(){return t.form},name:"passwordConfirm",children:n=>g(Y,F(()=>n.props,{type:"password",label:"Confirm password",get value(){return n.value},get error(){return n.error}}))}),g(Vt,{type:"submit",get["aria-busy"](){return t.form.submitting},get disabled(){return t.form.submitting},children:"Register"})]}}),jr=$("<article><p>Already have an account? </p></article>",4),$r=()=>{const t=le(He),n=Nt(),e=kr(n,async r=>{const i=await t().collection("users").create(r);console.log(i)});return(()=>{const r=jr.cloneNode(!0),i=r.firstChild;return i.firstChild,R(r,g(_r,{form:n,onRegister:e}),i),R(i,g(Z,{href:"/login",children:"Login"}),null),r})()},Re=$("<li></li>",2),Dr=$("<ul></ul>",2),Fr=t=>(()=>{const n=Dr.cloneNode(!0);return R(n,g(Ie,{get when(){return t.loggedIn},get fallback(){return(()=>{const e=Re.cloneNode(!0);return R(e,g(Z,{href:"/login",children:"Login"})),e})()},get children(){return[(()=>{const e=Re.cloneNode(!0);return R(e,g(Z,{href:"/profile",children:"Profile"})),e})(),(()=>{const e=Re.cloneNode(!0);return R(e,g(Z,{href:"/",onClick:()=>t.onLogout(),children:"Logout"})),e})()]}})),n})(),Ur=$('<nav class="container-fluid"><ul><li></li></ul></nav>',6),Vr=t=>(()=>{const n=Ur.cloneNode(!0),e=n.firstChild,r=e.firstChild;return R(r,g(Z,{href:"/",children:"Secret Santa"})),R(n,g(Fr,{get loggedIn(){return t.loggedIn},onLogout:()=>t.onLogout()}),null),n})(),qr=$('<main class="container"></main>',2),Mr=t=>[g(Vr,{get loggedIn(){return t.loggedIn},onLogout:()=>t.onLogout()}),(()=>{const n=qr.cloneNode(!0);return R(n,()=>t.children),n})()],Br=t=>{const[n,e]=v(t.authStore.model),r=t.authStore.onChange((i,o)=>{e(o)});return{getUser:n,removeChangeListener:r}},xe=new fr(""),Kr=()=>{const t=()=>xe.authStore.clear(),{getUser:n,removeChangeListener:e}=Br(xe);return Ae(()=>{e()}),g(hr,{value:xe,get children(){return g(Mr,{get loggedIn(){return!!n()},onLogout:t,get children(){return g(Xn,{get children(){return[g(rt,{path:"/login",component:xr}),g(rt,{path:"/register",component:$r})]}})}})}})};pn(()=>g(zn,{get children(){return g(Kr,{})}}),document.getElementById("root"));
